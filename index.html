<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØ¬Ø± ÙˆÙØ±Ù†Ù‡Ø§Ù„Ùƒ ØªÙƒ - Ø§Ø´ØªØ±Ø§ÙƒØ§ØªÙƒ Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts (Cairo) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Custom Styles -->
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #000000; /* Black background */
            color: #e5e7eb; /* Lighter gray text */
        }
        .product-card {
            background-color: #1a1a1a; /* Darker card background */
            border: 1px solid #2e2e2e;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.1), 0 4px 6px -2px rgba(16, 185, 129, 0.05);
            border-color: #10b981;
        }
        .btn-primary {
            background-color: #10b981; /* Green Button */
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #059669;
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.5);
        }
        .btn-secondary {
            background-color: #374151;
            transition: all 0.3s ease;
        }
        .btn-secondary:hover {
            background-color: #4b5563;
        }
        .modal-backdrop {
            backdrop-filter: blur(5px);
        }
        /* Loading Spinner */
        .loader {
            border: 4px solid #f3f3f330;
            border-top: 4px solid #10b981;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        #dropdown-arrow {
             transition: transform 0.3s ease;
        }
        #package-options {
            max-height: 200px;
            overflow-y: auto;
        }
    </style>
</head>
<body class="antialiased">

    <div id="app" class="container mx-auto p-4 md:p-8">

        <!-- Header -->
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-2">Ù…ØªØ¬Ø± <span class="text-green-400">ÙˆÙØ±Ù†Ù‡Ø§Ù„Ùƒ ØªÙƒ</span></h1>
            <p class="text-lg text-gray-400 mb-6">Ø§Ø´ØªØ±Ø§ÙƒØ§ØªÙƒ Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</p>
            
        </header>

        <!-- Products Grid -->
        <main id="products-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Products will be dynamically inserted here -->
        </main>

        <!-- Footer -->
        <footer class="text-center mt-16 text-gray-500">
            <p>&copy; 2024 Ù…ØªØ¬Ø± ÙˆÙØ±Ù†Ù‡Ø§Ù„Ùƒ ØªÙƒ. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
        </footer>

    </div>

    <!-- Order Modal -->
    <div id="order-modal" class="fixed inset-0 z-50 flex items-center justify-center hidden">
        <div class="modal-backdrop fixed inset-0 bg-black bg-opacity-70" onclick="closeOrderModal()"></div>
        <div class="bg-gray-900 rounded-lg shadow-xl w-11/12 max-w-lg m-4 transform transition-all relative border border-gray-700" onclick="event.stopPropagation()">
            <div class="p-5 border-b border-gray-700 flex justify-between items-center">
                <h2 id="modal-product-title" class="text-2xl font-bold text-white"></h2>
                <button onclick="closeOrderModal()" class="text-gray-400 hover:text-white text-3xl">&times;</button>
            </div>
            <form id="order-form" class="p-5">
                <input type="hidden" id="product-name-input">
                
                <!-- New Package Selector Dropdown -->
                <div class="mb-6">
                    <label class="block mb-3 font-semibold text-gray-200 text-lg">Ø§Ø®ØªØ± Ø§Ù„Ø¨Ø§Ù‚Ø©:</label>
                    <div id="package-dropdown" class="relative">
                        <button type="button" id="package-button" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-md text-white flex justify-between items-center text-right">
                            <span id="selected-package-text" class="truncate"></span>
                             <svg class="w-5 h-5 text-gray-400" id="dropdown-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                        </button>
                        <div id="package-options" class="absolute z-10 w-full mt-1 bg-gray-800 border border-gray-600 rounded-md shadow-lg hidden">
                            <!-- Options will be injected by JS -->
                        </div>
                    </div>
                    <input type="hidden" id="selected-package-input" name="package">
                </div>

                <div class="space-y-4">
                    <div><label for="customer-name" class="block mb-1 font-semibold text-gray-300">Ø§Ù„Ø§Ø³Ù…</label><input type="text" id="customer-name" class="w-full p-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-green-500" required></div>
                    <div><label for="customer-phone" class="block mb-1 font-semibold text-gray-300">Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ (Ø¥Ø¬Ø¨Ø§Ø±ÙŠ)</label><input type="tel" id="customer-phone" placeholder="Ù…Ø«Ø§Ù„: 201012345678" class="w-full p-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-green-500" required></div>
                    <div><label for="customer-email" class="block mb-1 font-semibold text-gray-300">Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label><input type="email" id="customer-email" placeholder="Ù…Ø·Ù„ÙˆØ¨ Ù„Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©" class="w-full p-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-green-500"></div>
                    <div><label for="customer-notes" class="block mb-1 font-semibold text-gray-300">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</label><textarea id="customer-notes" rows="2" class="w-full p-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-green-500"></textarea></div>
                    <button type="submit" class="w-full btn-primary text-white py-3 rounded-lg text-lg font-bold">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Gemini AI Helper Modal -->
    <div id="ai-helper-modal" class="fixed inset-0 z-50 flex items-center justify-center hidden">
        <div class="modal-backdrop fixed inset-0 bg-black bg-opacity-70" onclick="closeAiHelperModal()"></div>
        <div class="bg-gray-900 rounded-lg shadow-xl w-11/12 max-w-2xl m-4 transform transition-all relative border border-gray-700 flex flex-col" style="max-height: 90vh;">
            <div class="p-5 border-b border-gray-700 flex justify-between items-center">
                <h2 id="ai-modal-title" class="text-2xl font-bold text-white">âœ¨ Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø°ÙƒÙŠ</h2>
                <button onclick="closeAiHelperModal()" class="text-gray-400 hover:text-white text-3xl">&times;</button>
            </div>
            <div id="ai-modal-content" class="p-6 overflow-y-auto flex-grow">
                <!-- Content will be injected here -->
            </div>
            <div id="ai-modal-loader" class="p-6 flex-grow hidden items-center justify-center flex-col">
                <div class="loader"></div>
                <p class="mt-4 text-green-400">ÙŠÙÙƒØ± Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ...</p>
            </div>
            <div id="ai-modal-form-container" class="p-6 border-t border-gray-700">
                <form id="ai-helper-form">
                    <input type="hidden" id="ai-prompt-type">
                    <textarea id="ai-user-prompt" rows="3" class="w-full p-3 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="Ù…Ø«Ø§Ù„: Ø£Ù†Ø§ Ø·Ø§Ù„Ø¨ ÙˆØ£Ø­ØªØ§Ø¬ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ÙˆØ¹Ù…Ù„ Ø§Ù„ØªØµØ§Ù…ÙŠÙ… Ø¨Ø³Ù‡ÙˆÙ„Ø©..."></textarea>
                    <button type="submit" class="w-full mt-4 btn-primary text-white py-3 rounded-lg text-lg font-bold">
                        Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ ØªÙˆØµÙŠØ©
                    </button>
                </form>
            </div>
        </div>
    </div>

    <script>
        // --- DATA ---
        const products = [
             {
                id: 'capcut',
                title: 'ğŸ¬ CapCut Pro',
                image: 'https://placehold.co/600x400/000000/FFFFFF?text=CapCut+Pro',
                features: ['Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø§Ø¦ÙŠØ©', 'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ø¨Ø±Ùˆ', 'Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ', 'ØªØ®Ø²ÙŠÙ† Ø³Ø­Ø§Ø¨ÙŠ 1 ØªÙŠØ±Ø§Ø¨Ø§ÙŠØª'],
                packages: [
                    { name: 'Ø´Ø®ØµÙŠ - 1 Ø´Ù‡Ø± (Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯)', price: '499 Ø¬Ù†ÙŠÙ‡' },
                    { name: 'Ø´Ø®ØµÙŠ - 12 Ø´Ù‡Ø± (Ø¹Ø±Ø¶)', price: '2800 Ø¬Ù†ÙŠÙ‡' },
                    { name: 'Ø´Ø®ØµÙŠ - 12 Ø´Ù‡Ø± (Ø¥ÙŠÙ…ÙŠÙ„ Ù‚Ø¯ÙŠÙ…)', price: '5100 Ø¬Ù†ÙŠÙ‡' }
                ],
                notes: 'Ù„Ø£ÙØ¶Ù„ Ø³Ø¹Ø±ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø¥ÙŠÙ…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ Ù„Ù… ÙŠÙØ¹Ù„ Ù…Ø³Ø¨Ù‚Ù‹Ø§ Ø¹Ù„Ù‰ CapCut.'
            },
            {
                id: 'chatgpt',
                title: 'ğŸ”¥ ChatGPT & Sora AI',
                image: 'https://placehold.co/600x400/10a37f/FFFFFF?text=ChatGPT+4o',
                features: ['Ø¯Ø®ÙˆÙ„ GPT-5', '80 Prompt ÙƒÙ„ 3 Ø³Ø§Ø¹Ø§Øª', 'Ø¥Ù†Ø´Ø§Ø¡ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø¨Ù€ Sora', 'Ø¯Ø¹Ù… Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª (Plugins)'],
                packages: [
                    { name: 'Ù…Ø´ØªØ±Ùƒ - 1 Ø´Ù‡Ø±', price: '399 Ø¬Ù†ÙŠÙ‡' },
                    { name: 'Ù…Ø´ØªØ±Ùƒ - 3 Ø´Ù‡ÙˆØ±', price: '899 Ø¬Ù†ÙŠÙ‡' },
                    { name: 'Ù…Ø´ØªØ±Ùƒ - 12 Ø´Ù‡Ø±', price: '2499 Ø¬Ù†ÙŠÙ‡' },
                    { name: 'Ø´Ø®ØµÙŠ Ø®Ø§Øµ - 1 Ø´Ù‡Ø±', price: '1000 Ø¬Ù†ÙŠÙ‡' }
                ],
                notes: 'Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒØ© ÙŠØªÙ… ØªØ³Ù„ÙŠÙ…Ù‡Ø§ ÙÙˆØ± Ø§Ù„Ø¯ÙØ¹.'
            },
            {
                id: 'adobe',
                title: 'ğŸš€ Adobe Creative Cloud',
                image: 'https://placehold.co/600x400/ff0000/FFFFFF?text=Adobe',
                features: ['ÙƒÙ„ Ø¨Ø±Ø§Ù…Ø¬ Ø£Ø¯ÙˆØ¨ÙŠ', 'ØªØ­Ø¯ÙŠØ«Ø§Øª Ù…Ø³ØªÙ…Ø±Ø©', 'ØªØ®Ø²ÙŠÙ† Ø³Ø­Ø§Ø¨ÙŠ', 'ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø£Ø¬Ù‡Ø²ØªÙƒ'],
                packages: [ { name: '6 Ø´Ù‡ÙˆØ±', price: '1600 Ø¬Ù†ÙŠÙ‡' }, { name: 'Ø³Ù†Ø©', price: '2700 Ø¬Ù†ÙŠÙ‡' } ],
                notes: 'Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØºÙŠÙŠØ±ØŒ ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø³Ø¹Ø± Ù‚Ø¨Ù„ Ø§Ù„Ø¯ÙØ¹.'
            },
            {
                id: 'midjourney_runway',
                title: 'ğŸ¥ Midjourney & Runway',
                image: 'https://placehold.co/600x400/7a00ff/FFFFFF?text=AI+Video',
                features: ['ØªÙˆÙ„ÙŠØ¯ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯', 'Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ù…Ø§Ø¦ÙŠØ©', 'Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬', 'ÙˆØµÙˆÙ„ Ù„Ø£Ø­Ø¯Ø« Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª'],
                packages: [ { name: 'Midjourney/Runway - 1 Ø´Ù‡Ø±', price: 'ØªØ¨Ø¯Ø£ Ù…Ù† 799 Ø¬Ù†ÙŠÙ‡' } ],
                notes: 'Ø§Ù„Ø­Ø¬Ø² Ø¨Ø§Ù„Ø£Ø³Ø¨Ù‚ÙŠØ© Ù„ØªÙƒÙˆÙŠÙ† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª.'
            },
            { id: 'freepik_dl', title: 'ğŸ–¥ Freepik (ØªØ­Ù…ÙŠÙ„ ÙÙ‚Ø·)', image: 'https://placehold.co/600x400/0f73ff/FFFFFF?text=Freepik', features: ['ÙŠØ´Ù…Ù„ Freepik ÙˆFlaticon', 'Ø¯Ø®ÙˆÙ„ Ù…Ø¨Ø§Ø´Ø± Ø¨ÙŠÙˆØ²Ø± ÙˆØ¨Ø§Ø³ÙˆØ±Ø¯', 'ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø² ÙˆØ§Ø­Ø¯', 'ØªØ­Ù…ÙŠÙ„ 25 Ù…Ù„Ù ÙŠÙˆÙ…ÙŠÙ‹Ø§'], packages: [ { name: 'Ù…Ø´ØªØ±Ùƒ - 3 Ø´Ù‡ÙˆØ±', price: '800 Ø¬Ù†ÙŠÙ‡' }, { name: 'Ù…Ø´ØªØ±Ùƒ - 6 Ø´Ù‡ÙˆØ±', price: '1300 Ø¬Ù†ÙŠÙ‡' }, { name: 'Ù…Ø´ØªØ±Ùƒ - 12 Ø´Ù‡Ø±', price: '2200 Ø¬Ù†ÙŠÙ‡' }, ], notes: 'Ù‡Ø°Ù‡ Ø§Ù„Ø¨Ø§Ù‚Ø© Ù„Ø§ ØªØªØ¶Ù…Ù† Ù†Ù‚Ø§Ø· Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ (AI).' },
            { id: 'freepik_ai', title: 'ğŸ¤– Freepik (ØªØ­Ù…ÙŠÙ„ Ùˆ AI)', image: 'https://placehold.co/600x400/ff6e3a/FFFFFF?text=Freepik+AI', features: ['ØªÙˆÙ„ÙŠØ¯ ÙˆØªØ¹Ø¯ÙŠÙ„ Ù„Ø§ Ù†Ù‡Ø§Ø¦ÙŠ Ù„Ù„ØµÙˆØ±', '7000 Ù†Ù‚Ø·Ø© AI Ø´Ù‡Ø±ÙŠØ©', 'ØªØ­Ù…ÙŠÙ„ 25 Ù…Ù„Ù ÙŠÙˆÙ…ÙŠÙ‹Ø§', 'ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø² ÙˆØ§Ø­Ø¯'], packages: [ { name: 'Ù…Ø´ØªØ±Ùƒ (AI) - 1 Ø´Ù‡Ø±', price: '800 Ø¬Ù†ÙŠÙ‡' }, { name: 'ÙØ±Ø¯ÙŠ Premium - 12 Ø´Ù‡Ø±', price: '5400 Ø¬Ù†ÙŠÙ‡' }, { name: 'ÙØ±Ø¯ÙŠ Premium+ - 12 Ø´Ù‡Ø±', price: '13,000 Ø¬Ù†ÙŠÙ‡' } ], notes: 'Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„ÙØ±Ø¯ÙŠ ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ 3 Ø£Ø¬Ù‡Ø²Ø© ÙˆÙŠØ´Ù…Ù„ Ù†Ù‚Ø§Ø· AI Ø£ÙƒØ«Ø±.' },
            { id: 'canva', title: 'ğŸ¨ Canva Educational (Pro)', image: 'https://placehold.co/600x400/8d33ff/FFFFFF?text=Canva', features: ['ØªØºÙŠÙŠØ± Ù…Ù‚Ø§Ø³Ø§Øª Ø§Ù„ØªØµÙ…ÙŠÙ…', 'Ù…ÙƒØªØ¨Ø© Ø¶Ø®Ù…Ø© Ù…Ù† Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨', 'Ø¥Ø²Ø§Ù„Ø© Ø®Ù„ÙÙŠØ§Øª Ø§Ù„ØµÙˆØ± Ø¨Ø¶ØºØ·Ø©', 'ØªØµÙ…ÙŠÙ… ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø³Ù‡ÙˆÙ„Ø©'], packages: [ { name: 'Ø³Ù†Ø©', price: '250 Ø¬Ù†ÙŠÙ‡' }, { name: '3 Ø³Ù†ÙŠÙ†', price: '450 Ø¬Ù†ÙŠÙ‡' } ], notes: 'Ø§Ù„Ø­Ù„ Ø§Ù„Ø£Ù…Ø«Ù„ Ù„ØºÙŠØ± Ø§Ù„Ù…ØµÙ…Ù…ÙŠÙ† Ù„Ø¥Ù†ØªØ§Ø¬ ØªØµØ§Ù…ÙŠÙ… Ø§Ø­ØªØ±Ø§ÙÙŠØ©.' },
            { id: 'linkedin', title: 'ğŸ’¼ LinkedIn Premium', image: 'https://placehold.co/600x400/0a66c2/FFFFFF?text=LinkedIn', features: ['ØªÙØ¹ÙŠÙ„ Ø¹Ù„Ù‰ Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø´Ø®ØµÙŠ', 'Ø®ØµÙˆØµÙŠØ© ØªØ§Ù…Ø© Ø¨Ø¯Ø¹ÙˆØ© Ø®Ø§ØµØ©', 'Ø¶Ù…Ø§Ù† Ø§Ù„Ù…Ø¯Ø© ÙƒØ§Ù…Ù„Ø©'], packages: [ { name: 'Premium Business - 12 Ø´Ù‡Ø±', price: '4300 Ø¬Ù†ÙŠÙ‡' }, { name: 'Ø¨Ø§Ù‚Ø§Øª Ø£Ø®Ø±Ù‰', price: 'Ø§Ø³Ø£Ù„ Ø¹Ù† Ø§Ù„ØªÙˆÙØ±' } ], notes: 'Ø§Ù„Ø³Ø¹Ø± ÙŠØªØºÙŠØ± ÙŠÙˆÙ…ÙŠÙ‹Ø§ Ø¨Ø³Ø¨Ø¨ Ù‚Ù„Ø© Ø§Ù„ØªÙˆØ§ÙØ±ØŒ Ø§Ø³Ø£Ù„ Ù‚Ø¨Ù„ Ø§Ù„Ø¯ÙØ¹.' },
            { id: 'envato', title: 'ğŸ”¸ Envato Elements', image: 'https://placehold.co/600x400/82b440/FFFFFF?text=Envato', features: ['ÙŠØ´Ù…Ù„ ×›×œ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹', 'ØªØ­Ù…ÙŠÙ„ 50-60 Ù…Ù„Ù ÙŠÙˆÙ…ÙŠÙ‹Ø§', 'Ø¯Ø®ÙˆÙ„ Ù…Ø¨Ø§Ø´Ø± Ø¨ÙŠÙˆØ²Ø± ÙˆØ¨Ø§Ø³ÙˆØ±Ø¯'], packages: [ { name: 'Ù…Ø´ØªØ±Ùƒ - 3 Ø£Ø´Ù‡Ø±', price: '699 Ø¬Ù†ÙŠÙ‡' }, { name: 'Ù…Ø´ØªØ±Ùƒ - 12 Ø´Ù‡Ø±', price: '1600 Ø¬Ù†ÙŠÙ‡' }, { name: 'Ø´Ø®ØµÙŠ (8 Ø£Ø¬Ù‡Ø²Ø©) - 12 Ø´Ù‡Ø±', price: '5900 Ø¬Ù†ÙŠÙ‡' } ], notes: 'Ø®ØµÙ… Ø®Ø§Øµ Ù„Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø´Ø®ØµÙŠ ÙÙŠ Ø­Ø§Ù„ Ø·Ù„Ø¨ Ø£ÙƒØ«Ø± Ù…Ù† Ø¬Ù‡Ø§Ø².' }
        ];
        const whatsappNumber = "201150580198";

        // --- DOM Elements ---
        const productsGrid = document.getElementById('products-grid');
        const orderModal = document.getElementById('order-modal');
        const aiHelperModal = document.getElementById('ai-helper-modal');
        const orderForm = document.getElementById('order-form');
        const modalProductTitle = document.getElementById('modal-product-title');
        const productNameInput = document.getElementById('product-name-input');
        
        const aiModalTitle = document.getElementById('ai-modal-title');
        const aiModalContent = document.getElementById('ai-modal-content');
        const aiModalLoader = document.getElementById('ai-modal-loader');
        const aiModalFormContainer = document.getElementById('ai-modal-form-container');
        const aiHelperForm = document.getElementById('ai-helper-form');
        const aiPromptTypeInput = document.getElementById('ai-prompt-type');
        const aiUserPromptTextarea = document.getElementById('ai-user-prompt');

        // --- GEMINI API FUNCTION ---
        async function callGeminiAPI(prompt, systemPrompt = "") {
            const apiKey = ""; // Left empty as per instructions
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
            const payload = { contents: [{ parts: [{ text: prompt }] }], };
            if (systemPrompt) { payload.systemInstruction = { parts: [{ text: systemPrompt }] }; }
            try {
                const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                if (!response.ok) { throw new Error(`API Error: ${response.statusText}`); }
                const result = await response.json();
                return result.candidates[0].content.parts[0].text;
            } catch (error) {
                console.error("Gemini API call failed:", error);
                return "Ø¹Ø°Ø±Ù‹Ø§ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
            }
        }
        
        // --- RENDER FUNCTIONS ---
        function renderProducts() {
            productsGrid.innerHTML = products.map(product => {
                return `
                <div class="product-card rounded-lg shadow-lg overflow-hidden flex flex-col">
                    <img src="${product.image}" alt="${product.title}" class="w-full h-48 object-cover">
                    <div class="p-6 flex flex-col flex-grow">
                        <h2 class="text-2xl font-bold text-white mb-3">${product.title}</h2>
                        <div class="mb-4 flex-grow"><ul class="space-y-2 text-gray-300">${product.features.map(f => `<li class="flex items-center"><svg class="w-4 h-4 mr-2 ml-1 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>${f}</li>`).join('')}</ul></div>
                        <div class="mt-auto">
                           <p class="text-xs text-yellow-400 bg-yellow-900/40 p-2 rounded-md mb-4">${product.notes}</p>
                           <button onclick="openOrderModal('${product.id}')" class="w-full btn-primary text-white py-2.5 rounded-lg font-bold">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
                        </div>
                    </div>
                </div>`;
            }).join('');
        }

        // --- AI MODAL LOGIC ---
        function openAiHelperModal() {
            aiModalTitle.textContent = 'âœ¨ Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª';
            aiModalContent.innerHTML = `<p class="text-lg text-gray-300">Ø£Ø®Ø¨Ø±Ù†ÙŠ Ø¹Ù† Ø·Ø¨ÙŠØ¹Ø© Ø¹Ù…Ù„Ùƒ Ø£Ùˆ Ù…Ø§ ØªØ±ÙŠØ¯ Ø¥Ù†Ø¬Ø§Ø²Ù‡ØŒ ÙˆØ³Ø£Ù‚ØªØ±Ø­ Ø¹Ù„ÙŠÙƒ Ø£ÙØ¶Ù„ Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„ØªÙŠ ØªÙ†Ø§Ø³Ø¨Ùƒ.</p>`;
            aiModalLoader.classList.add('hidden');
            aiModalFormContainer.classList.remove('hidden');
            aiUserPromptTextarea.value = '';
            aiHelperModal.classList.remove('hidden');
        }

        function closeAiHelperModal() {
            aiHelperModal.classList.add('hidden');
        }
        
        async function handleAiFormSubmit(event) {
            event.preventDefault();
            aiModalFormContainer.classList.add('hidden');
            aiModalContent.innerHTML = '';
            aiModalLoader.classList.remove('hidden');

            const userInput = aiUserPromptTextarea.value;
            if (!userInput) {
                aiModalContent.innerHTML = `<p class="text-red-400">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙˆØµÙ Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙƒ.</p>`;
                aiModalLoader.classList.add('hidden');
                aiModalFormContainer.classList.remove('hidden');
                return;
            }

            const productListString = products.map(p => `- ${p.title}: ${p.features.join(', ')}`).join('\n');
            const systemPrompt = "Ø£Ù†Øª Ø®Ø¨ÙŠØ± Ø§Ø³ØªØ´Ø§Ø±ÙŠ ÙÙŠ Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©. Ù…Ù‡Ù…ØªÙƒ Ù‡ÙŠ Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙÙŠ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ø£Ù†Ø³Ø¨ Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙ‡Ù… Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØ§Ø­Ø©. Ù‚Ø¯Ù… ØªÙˆØµÙŠØªÙƒ ÙÙŠ Ù†Ù‚Ø§Ø· ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…Ø®ØªØµØ±Ø©ØŒ Ù…Ø¹ Ø´Ø±Ø­ Ø³Ø¨Ø¨ Ø§Ø®ØªÙŠØ§Ø± ÙƒÙ„ Ù…Ù†ØªØ¬. ØªØ­Ø¯Ø« Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø£Ø³Ù„ÙˆØ¨ ÙˆØ¯ÙˆØ¯ ÙˆÙ…Ø³Ø§Ø¹Ø¯.";
            const prompt = `Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©:\n${productListString}\n\nÙ…Ø§ Ù‡Ùˆ Ø£ÙØ¶Ù„ Ø§Ø´ØªØ±Ø§Ùƒ Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙ‚ÙˆÙ„: '${userInput}'ØŸ`;
            const response = await callGeminiAPI(prompt, systemPrompt);
            
            aiModalLoader.classList.add('hidden');
            aiModalContent.innerHTML = response.replace(/\n/g, '<br>');
        }

        // --- Order Modal Logic ---
        function openOrderModal(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                modalProductTitle.textContent = product.title;
                productNameInput.value = product.title;
                
                const selectedPackageText = document.getElementById('selected-package-text');
                const packageOptions = document.getElementById('package-options');
                const selectedPackageInput = document.getElementById('selected-package-input');

                packageOptions.innerHTML = '';
                packageOptions.classList.add('hidden');
                document.getElementById('dropdown-arrow').style.transform = 'rotate(0deg)';

                const defaultPackage = product.packages[0];
                const defaultPackageValue = `${defaultPackage.name} - ${defaultPackage.price}`;
                selectedPackageText.textContent = defaultPackageValue;
                selectedPackageInput.value = defaultPackageValue;

                product.packages.forEach(pkg => {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'p-3 cursor-pointer hover:bg-gray-700 transition-colors duration-200';
                    const packageValue = `${pkg.name} - ${pkg.price}`;
                    optionDiv.innerHTML = `<span class="font-bold text-white">${pkg.name}</span><span class="text-green-400 float-left">${pkg.price}</span>`;
                    
                    optionDiv.addEventListener('click', () => {
                        selectedPackageText.textContent = packageValue;
                        selectedPackageInput.value = packageValue;
                        packageOptions.classList.add('hidden');
                        document.getElementById('dropdown-arrow').style.transform = 'rotate(0deg)';
                    });
                    packageOptions.appendChild(optionDiv);
                });
                
                orderModal.classList.remove("hidden");
            }
        }

        function closeOrderModal(){
            orderModal.classList.add("hidden");
            orderForm.reset();
        }

        function handleOrderSubmit(event){
            event.preventDefault();
            const productName = productNameInput.value;
            const selectedPackage = document.getElementById('selected-package-input').value;
            const customerName = document.getElementById("customer-name").value;
            const customerPhone = document.getElementById("customer-phone").value;
            const customerEmail = document.getElementById("customer-email").value;
            const customerNotes = document.getElementById("customer-notes").value;
            let message = `*Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù…ØªØ¬Ø± ÙˆÙØ±Ù†Ù‡Ø§Ù„Ùƒ ØªÙƒ*\n\n`;
            message += `*Ø§Ù„Ù…Ù†ØªØ¬:* ${productName}\n`;
            message += `*Ø§Ù„Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:* ${selectedPackage}\n`;
            message += `*Ø§Ù„Ø§Ø³Ù…:* ${customerName}\n`;
            message += `*Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨:* ${customerPhone}\n`;
            if (customerEmail) message += `*Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„:* ${customerEmail}\n`;
            if (customerNotes) message += `*Ù…Ù„Ø§Ø­Ø¸Ø§Øª:* ${customerNotes}\n\n`;
            message += `Ø¨Ø±Ø¬Ø§Ø¡ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ ÙˆØªÙˆØ¶ÙŠØ­ Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…ØªØ§Ø­Ø©.`;
            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, "_blank");
            closeOrderModal();
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts();
            orderForm.addEventListener('submit', handleOrderSubmit);
            aiHelperForm.addEventListener('submit', handleAiFormSubmit);
            
            const packageButton = document.getElementById('package-button');
            const packageOptions = document.getElementById('package-options');
            const packageDropdown = document.getElementById('package-dropdown');
            const dropdownArrow = document.getElementById('dropdown-arrow');

            packageButton.addEventListener('click', (event) => {
                event.stopPropagation();
                const isHidden = packageOptions.classList.toggle('hidden');
                dropdownArrow.style.transform = isHidden ? 'rotate(0deg)' : 'rotate(180deg)';
            });

            document.addEventListener('click', (event) => {
                if (!packageDropdown.contains(event.target)) {
                    packageOptions.classList.add('hidden');
                    dropdownArrow.style.transform = 'rotate(0deg)';
                }
                 if (event.key === "Escape") {
                    if(!orderModal.classList.contains('hidden')) closeOrderModal();
                    if(!aiHelperModal.classList.contains('hidden')) closeAiHelperModal();
                }
            });
        });
    </script>
</body>
</html>

